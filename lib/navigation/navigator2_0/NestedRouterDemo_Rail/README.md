https://gist.github.com/johnpryan/bbca91e23bbb4d39247fa922533be7c9

長くてわかりづらいんで、分割してみる
そして、rail を使う
